let modal=document.querySelector(".modal"),overlay=document.querySelector(".overlay"),btnCloseModal=document.querySelector(".close-modal"),btnsOpenModal=document.querySelectorAll(".show-modal"),yearEl=(btnCloseModal.addEventListener("click",function(){modal.classList.add("hidden"),overlay.classList.add("hidden")}),overlay.addEventListener("click",function(){modal.classList.add("hidden"),overlay.classList.add("hidden")}),document.addEventListener("keydown",function(e){"Escape"!==e.key||modal.classList.contains("hidden")||(modal.classList.add("hidden"),overlay.classList.add("hidden"))}),document.querySelector(".year")),currentYear=(new Date).getFullYear(),left=(yearEl.textContent=currentYear,document.querySelector(".left")),right=document.querySelector(".right"),slider=document.querySelector(".slider"),images=document.querySelectorAll(".image"),slideNumber=1,bottom=document.querySelector(".bottom");for(let e=0;e<images.length;e++){let e=document.createElement("div");e.className="button",bottom.appendChild(e)}let buttons=document.querySelectorAll(".button"),resetBg=(buttons[0].style.backgroundColor="#a38066",()=>{buttons.forEach(e=>{e.style.backgroundColor="transparent",e.addEventListener("mouseover",stopSlideShow),e.addEventListener("mouseout",startSlideShow)})}),changeColor=(buttons.forEach((e,t)=>{e.addEventListener("click",()=>{resetBg(),slider.style.transform=`translateX(-${640*t}px)`,slideNumber=t+1,e.style.backgroundColor="#a38066"})}),()=>{resetBg(),buttons[slideNumber-1].style.backgroundColor="#a38066"}),nextSlide=()=>{slider.style.transform=`translateX(-${640*slideNumber}px)`,slideNumber++},prevSlide=()=>{slider.style.transform=`translateX(-${640*(slideNumber-2)}px)`,slideNumber--},getFirstSlide=()=>{slider.style.transform="translateX(0px)",slideNumber=1},getLastSlide=()=>{slider.style.transform=`translateX(-${640*(images.length-1)}px)`,slideNumber=images.length};right.addEventListener("click",()=>{(slideNumber<images.length?nextSlide:getFirstSlide)(),changeColor()}),left.addEventListener("click",()=>{(1<slideNumber?prevSlide:getFirstSlide)(),changeColor()});let slideInterval,startSlideShow=()=>{slideInterval=setInterval(()=>{(slideNumber<images.length?nextSlide:getFirstSlide)(),changeColor()},2500)},stopSlideShow=()=>{clearInterval(slideInterval)},btnNavEl=(startSlideShow(),slider.addEventListener("mouseover",stopSlideShow),slider.addEventListener("mouseout",startSlideShow),right.addEventListener("mouseover",stopSlideShow),right.addEventListener("mouseout",startSlideShow),left.addEventListener("mouseover",stopSlideShow),left.addEventListener("mouseout",startSlideShow),datePickerId.min=(new Date).toLocaleDateString("fr-ca"),document.querySelector(".btn-mobile-nav"));function showHideNavigation(){document.querySelector(".header").classList.toggle("nav-open")}btnNavEl.addEventListener("click",function(){showHideNavigation()});var websiteLoader=document.getElementById("preloader");function addFormEvent(){let s=document.getElementById("contanct__form");s.addEventListener("submit",function(e){e.preventDefault();var e=new FormData(s),t=e.get("country"),o=e.get("destination"),r=e.getAll("property_type"),r=1==r.length?r[0]:r.join(", "),n=e.get("max_price"),d=e.get("comments"),l=e.get("email"),e=e.get("phone"),i=new Date,t={name:"Autoamt",message:"Dane formularza",country:t,destination:o,propertyTypes:String(r),maxPrice:n,comments:d,email:l,time:String(i).replace(/TZ/," "),phone:e};console.log("params:",t),emailjs.send("service_qir66go","template_drcr2gp",t).then(showHideFormPopup("show")),s.reset()})}function changeSliderProps(){var t=document.querySelector("#slider1");if(t){var o=window.innerWidth;console.log("changeSliderProps",o);let e={};e=600<o?{width:"500px",height:"371px",time:"40s"}:{width:"300px",height:"200px",time:"20s"},t.style.setProperty("--width",e.width),t.style.setProperty("--height",e.height),t.style.setProperty("--time",e.time)}}function addEventForFromPopup(){document.querySelector(".form__popupButton").addEventListener("click",()=>{showHideFormPopup("hide")})}function isMobileDevice(){return window.matchMedia("(max-width: 600px)").matches}function showHideFormPopup(e){var t=document.querySelector(".form__popup");"show"===e?(t.style.opacity="1",t.style.zIndex="100"):(t.style.opacity="0",t.style.zIndex="-1"),console.log("popup:",t),console.log("type:",e)}function addEventForResize(){window.addEventListener("resize",()=>changeSliderProps())}function addEventForLinks(){document.querySelectorAll(".main-nav-link").forEach(e=>{e.addEventListener("click",()=>showHideNavigation())})}window.addEventListener("load",function(e){window.removeEventListener("load",e,!1),setTimeout(function(){websiteLoader.style.display="none"},1500)},!1),changeSliderProps(),addEventForResize(),addFormEvent(),addEventForFromPopup(),addEventForLinks();